# üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Supabase

–ü–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö Supabase –¥–æ Delivery Analytics Pro.

## 1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É Supabase

1. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ [supabase.com](https://supabase.com)
2. –ù–∞—Ç–∏—Å–Ω–∏ **"Start your project"** (Sign up —è–∫—â–æ —â–µ –Ω–µ–º–∞—î –∞–∫–∞—É–Ω—Ç—É)
3. –ù–∞—Ç–∏—Å–Ω–∏ **"New project"**
4. –ó–∞–ø–æ–≤–Ω–∏ —Ñ–æ—Ä–º—É:
   - **Name:** `delivery-analytics` (–∞–±–æ —Å–≤–æ—è –Ω–∞–∑–≤–∞)
   - **Database Password:** —Å—Ç–≤–æ—Ä–∏ –Ω–∞–¥—ñ–π–Ω–∏–π –ø–∞—Ä–æ–ª—å (–∑–±–µ—Ä–µ–∂–∏ –π–æ–≥–æ!)
   - **Region:** –æ–±–µ—Ä–∏ –Ω–∞–π–±–ª–∏–∂—á–∏–π (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `Frankfurt`)
5. –ù–∞—Ç–∏—Å–Ω–∏ **"Create new project"**
6. –ó–∞—á–µ–∫–∞–π 2-3 —Ö–≤–∏–ª–∏–Ω–∏ –ø–æ–∫–∏ –ø—Ä–æ–µ–∫—Ç —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è

## 2. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å

1. –í –º–µ–Ω—é –∑–ª—ñ–≤–∞ –Ω–∞—Ç–∏—Å–Ω–∏ **"SQL Editor"**
2. –ù–∞—Ç–∏—Å–Ω–∏ **"New query"**
3. –°–∫–æ–ø—ñ—é–π –≤–µ—Å—å –≤–º—ñ—Å—Ç —Ñ–∞–π–ª—É `database/schema.sql`
4. –ù–∞—Ç–∏—Å–Ω–∏ **"Run"** (–∞–±–æ Ctrl+Enter)
5. –ü–µ—Ä–µ–≤—ñ—Ä —â–æ –≤—Å—ñ —Ç–∞–±–ª–∏—Ü—ñ —Å—Ç–≤–æ—Ä–∏–ª–∏—Å—å: –∑–∞–π–¥–∏ –≤ **"Table Editor"** –∑–ª—ñ–≤–∞

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü—å

–¢–∏ –º–∞—î—à –ø–æ–±–∞—á–∏—Ç–∏ —Ç–∞–∫—ñ —Ç–∞–±–ª–∏—Ü—ñ:
- `zones` - –∑–æ–Ω–∏ –¥–æ—Å—Ç–∞–≤–∫–∏
- `couriers` - –∫—É—Ä º—î—Ä–∏
- `deliveries` - –∑–∞–ø–∏—Å–∏ –¥–æ—Å—Ç–∞–≤–æ–∫
- `imports` - —ñ—Å—Ç–æ—Ä—ñ—è —ñ–º–ø–æ—Ä—Ç—ñ–≤

–Ü —Ç–∞–∫—ñ views:
- `daily_stats`
- `courier_stats`
- `zone_stats`

## 3. –î–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

1. –í—ñ–¥–∫—Ä–∏–π **"SQL Editor"**
2. –°—Ç–≤–æ—Ä–∏ –Ω–æ–≤–∏–π –∑–∞–ø–∏—Ç
3. –°–∫–æ–ø—ñ—é–π –≤–º—ñ—Å—Ç —Ñ–∞–π–ª—É `database/seed.sql`
4. –ù–∞—Ç–∏—Å–Ω–∏ **"Run"**

## 4. –û—Ç—Ä–∏–º–∞–Ω–Ω—è API –∫–ª—é—á—ñ–≤

1. –í –º–µ–Ω—é –∑–ª—ñ–≤–∞ –Ω–∞—Ç–∏—Å–Ω–∏ **"Project Settings"** (–∑–Ω–∞—á–æ–∫ —à–µ—Å—Ç—ñ—Ä–Ω—ñ –≤–Ω–∏–∑—É)
2. –ü–µ—Ä–µ–π–¥–∏ –≤ —Ä–æ–∑–¥—ñ–ª **"API"**
3. –ó–Ω–∞–π–¥–∏:
   - **Project URL** ‚Äî —Ü–µ —Ç–≤—ñ–π `SUPABASE_URL`
   - **anon public** key ‚Äî —Ü–µ —Ç–≤—ñ–π `SUPABASE_ANON_KEY`

## 5. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É

1. –°–∫–æ–ø—ñ—é–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó:
```bash
cp src/config/supabase.example.js src/config/supabase.js
```

2. –í—ñ–¥–∫—Ä–∏–π `src/config/supabase.js` —ñ –∑–∞–º—ñ–Ω–∏ –∑–Ω–∞—á–µ–Ω–Ω—è:

```javascript
const SUPABASE_URL = 'https://abcdefghijk.supabase.co';  // —Ç–≤—ñ–π URL
const SUPABASE_ANON_KEY = 'eyJhbGciOi...';  // —Ç–≤—ñ–π –∫–ª—é—á

export { SUPABASE_URL, SUPABASE_ANON_KEY };
```

## 6. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É (Row Level Security)

–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º RLS –≤–∏–º–∫–Ω–µ–Ω–æ –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç–∏ —Ä–æ–∑—Ä–æ–±–∫–∏. –î–ª—è production —Ä–µ–∫–æ–º–µ–Ω–¥—É—î–º–æ —É–≤—ñ–º–∫–Ω—É—Ç–∏.

### –ë–∞–∑–æ–≤–∏–π –ø—É–±–ª—ñ—á–Ω–∏–π –¥–æ—Å—Ç—É–ø (–¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è)

–í–∏–∫–æ–Ω–∞–π –≤ SQL Editor:

```sql
-- –î–æ–∑–≤–æ–ª–∏—Ç–∏ —á–∏—Ç–∞–Ω–Ω—è –≤—Å—ñ–º
ALTER TABLE zones ENABLE ROW LEVEL SECURITY;
ALTER TABLE couriers ENABLE ROW LEVEL SECURITY;
ALTER TABLE deliveries ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Allow public read" ON zones FOR SELECT USING (true);
CREATE POLICY "Allow public read" ON couriers FOR SELECT USING (true);
CREATE POLICY "Allow public read" ON deliveries FOR SELECT USING (true);

CREATE POLICY "Allow public insert" ON zones FOR INSERT WITH CHECK (true);
CREATE POLICY "Allow public insert" ON couriers FOR INSERT WITH CHECK (true);
CREATE POLICY "Allow public insert" ON deliveries FOR INSERT WITH CHECK (true);
```

## 7. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è

1. –í—ñ–¥–∫—Ä–∏–π `index.html` –≤ –±—Ä–∞—É–∑–µ—Ä—ñ
2. –î–∏–≤–∏—Å—å –Ω–∞ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –±—ñ–ª—è –ª–æ–≥–æ—Ç–∏–ø—É:
   - üü¢ **"Online"** ‚Äî Supabase –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ
   - ‚ö™ **"Local"** ‚Äî –ø—Ä–∞—Ü—é—î –∑ localStorage

3. –ó–∞–≤–∞–Ω—Ç–∞–∂ Excel —Ñ–∞–π–ª —ñ –ø–µ—Ä–µ–≤—ñ—Ä —â–æ –¥–∞–Ω—ñ –∑'—è–≤–ª—è—é—Ç—å—Å—è –≤ Supabase:
   - –ó–∞–π–¥–∏ –≤ **Table Editor** ‚Üí **deliveries**

## üîí –ë–µ–∑–ø–µ–∫–∞

‚ö†Ô∏è **–í–ê–ñ–õ–ò–í–û:**

- –ù—ñ–∫–æ–ª–∏ –Ω–µ –∫–æ–º—ñ—Ç–∞–π —Ñ–∞–π–ª `src/config/supabase.js` –≤ Git
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π environment variables –¥–ª—è production
- –£–≤—ñ–º–∫–Ω–∏ RLS –ø–µ—Ä–µ–¥ –≤–∏—Ö–æ–¥–æ–º –≤ production
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–Ω–æ–≤–ª—é–π –∫–ª—é—á—ñ –¥–æ—Å—Ç—É–ø—É

## üÜò –ü—Ä–æ–±–ª–µ–º–∏?

### –ü–æ–º–∏–ª–∫–∞ "Failed to fetch"
- –ü–µ—Ä–µ–≤—ñ—Ä —â–æ URL –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π (–±–µ–∑ –ø—Ä–æ–±—ñ–ª—ñ–≤, –∑—ñ `https://`)
- –ü–µ—Ä–µ–≤—ñ—Ä —â–æ –∫–ª—é—á –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π (–¥–æ–≤–≥–∏–π —Ä—è–¥–æ–∫ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ `eyJ`)

### –ü–æ–º–∏–ª–∫–∞ "permission denied"
- –ü–µ—Ä–µ–≤—ñ—Ä —â–æ RLS –ø–æ–ª—ñ—Ç–∏–∫–∏ —Å—Ç–≤–æ—Ä–µ–Ω—ñ
- –ê–±–æ —Ç–∏–º—á–∞—Å–æ–≤–æ –≤–∏–º–∫–Ω–∏ RLS –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –î–∞–Ω—ñ –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è
- –ü–µ—Ä–µ–≤—ñ—Ä –≤ Network tab –±—Ä–∞—É–∑–µ—Ä–∞ —Å—Ç–∞—Ç—É—Å –∑–∞–ø–∏—Ç—ñ–≤
- –ü–æ–¥–∏–≤–∏—Å—å –≤—ñ–¥–ø–æ–≤—ñ–¥—å —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –ø–æ–º–∏–ª–∫–∏

## üìö –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è

- [Supabase Documentation](https://supabase.com/docs)
- [Supabase JavaScript Client](https://supabase.com/docs/reference/javascript/introduction)
- [Row Level Security](https://supabase.com/docs/guides/auth/row-level-security)
